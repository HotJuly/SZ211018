# 区别cookie,localStorage,sessionStorage

1. 生命周期
   1. cookie
      1. 设置了最大超时时间Max-Age属性,只要没有达到最大超时时间而且没有主动删除,那么数据将永久存在
      2. 没有设置了最大超时时间Max-Age属性,如果当前标签页关闭或者浏览器关闭,那么数据将会丢失
         1. **注意:没有设置Max-Age,就代表当前的cookie是会话级cookie**
   2. localStorage(持久化存储)
      1. 存在localStorage中的数据,除非主动删除,否则数据将永久存在
   3. sessionStorage(临时存储)
      1. 存在sessionStorage中的数据,如果当前标签页关闭或者浏览器关闭,那么数据将会丢失
         1. **注意:刷新当前页面是不会导致sessionStorage的数据丢失的**
2. 存储位置
   1. cookie
      1. 设置了最大超时时间Max-Age属性,存储于硬盘中
      2. 没有设置了最大超时时间Max-Age属性,存储于内存中
   2. localStorage
      1. 存储于硬盘中
   3. sessionStorage
      1. 存储于内存中
3. 存储容量
   1. cookie->4KB
   2. localStorage->一般是5MB,IE只有3MB不到
   3. sessionStorage->一般是5MB,IE只有3MB不到
4. 作用范围
   1. cookie
      1. domain属性
         1. 例如:domain="baidu.com",而用户处于"www.baidu.com",用户就可以访问到baidu.com的cookie
         2. 例如:domain="map.baidu.com",而用户处于"www.baidu.com",用户就无法访问到map.baidu.com的cookie
         3. 子域名可以读取父域名的cookie,父域名不能读取子域名的cookie
      2. path属性
         1. 例如:path="/a",而用户处于"/a/b",用户就可以访问到/a的cookie
         2. 例如:path="/a",而用户处于"/c",用户就无法访问到/a的cookie
         3. 子路由可以访问到父路由的cookie,父路由无法访问子路由的cookie
   2. localStorage
      1. 可以跨标签也通信,但是前提是必须网址相同,localStorage是根据网址进行保存的
   3. sessionStorage
      1. 不能跨标签页通信,只能在当前标签页进行通信,sessionStorage是根据网址进行保存的
5. 与服务器之间的关系
   1. cookie(**被借用的本地存储**)
      1. cookie是**服务器创建,浏览器存储**
      2. 发送请求的时候,会自动携带相关的cookie进行发送
      3. 服务器通过响应报文返回cookie数据,浏览器自动接收cookie数据,并自动保存
         1. 服务器会在响应报文中**添加set-Cookie属性**,用于传递cookie数据
      4. 浏览器发送请求时,会通过请求报文自动携带cookie数据进行发送
         1. 浏览器会在请求报文中**添加Cookie属性**,用于传递cookie数据
      5. **小总结:感觉上去,其实不是cookie牛逼,而是浏览器牛逼**
         1. **浏览器会自动保存cookie数据**
         2. **浏览器会自动发送cookie数据**
   2. localStorage
      1. 与服务器不熟,没有任何关系
   3. sessionStorage
      1. 与服务器不熟,没有任何关系