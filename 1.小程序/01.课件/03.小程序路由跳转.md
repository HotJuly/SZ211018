# 小程序路由跳转

1. VueRouter
   1. 用于实现SPA应用(又称为单页面应用)
   2. 请问:什么是单页面?
      1. 单页面就是只有一个页面,也就是说只有一个html文件
      2. 当一个项目进行展示的时候,只会存在一个html文件,如果页面上需要展示不同的内容,可以通过原生DOM的CRUD方法,对页面上的DOM节点进行操作,从而展示出最新的效果
   3. 小程序不是一个单页面应用,是一个多页面应用
2. VueRouter的路由跳转
   1. 声明式导航
      1. router-link
      2. 通过组件生成一个a标签,如果用户点击该标签,就会跳转到执行的路由
      3. **定义:通过标签的形式,引导用户进行跳转**
   2. 编程式导航
      1. 通过$router对象身上的push,replace,go,back等API方法,控制用户进行跳转
      2. **定义:通过js调用API的形式,控制用户进行跳转**
3. 小程序的路由跳转
   1. 声明式导航
      1. 组件名:navigator
   2. 编程式导航
      1. wx.navigateTo
         1. 用处:**保留当前页面(保留当前页面实例对象)**,跳转到应用内的某个页面
         2. 类似于VueRouter中的push+keep-alive,会保留上个历史记录,能回退到上个页面
         3. **接收一个实参,实参类型必须是对象,对象中必填属性url**
            1. url可以使用相对路径,路径会参考当前文件夹路径进行拼接
            2. url可以使用绝对路径,路径会参考当前项目的根路径进行拼接
            3. url中只需要写到组件的名称,不需要添加文件扩展名,例如:"/pages/log/log"
         4. 重点:
            1. **小程序中页面栈最多十层,早期版本最多五层**
            2. **一旦达到页面栈的上限,如果还继续使用wx.navigateTo跳转,那么该API将会失效,不会发生跳转效果**
      2. wx.redirectTo
         1. 用处:**关闭当前页面(销毁当前页面实例对象)**,跳转到应用内的某个页面
         2. 类似于VueRouter中的replace方法,不会保留上个历史记录,不能回退到上个页面
         3. **接收一个实参,实参类型必须是对象,对象中必填属性url**
            1. url可以使用相对路径,路径会参考当前文件夹路径进行拼接
            2. url可以使用绝对路径,路径会参考当前项目的根路径进行拼接
            3. url中只需要写到组件的名称,不需要添加文件扩展名,例如:"/pages/log/log"
4. keep-alive
   1. **可以将其内部本该卸载的组件缓存起来,防止其死亡,留作下次使用**
      1. **该特点导致了内部组件无法被卸载,自然也无法再次挂载,会丢失初始化阶段以及卸载阶段的生命周期**
   2. **标签属性**
      1. **include="login,personal"**
         1. **以上写法代表名称为login或者personal的组件会被缓存**
         2. **只有名称匹配的组件会被缓存**
      2. **exclude="login,personal"**
         1. **以上写法代表名称为login或者personal的组件不会被缓存**
         2. **名称匹配的组件不会被缓存**
      3. **max="5"**
         1. **最多可以缓存多少组件实例**
         2. **缓存的实例对象会继续占用内存空间,缓存过多可能会导致代码性能降低,内存泄漏,最终严重情况会出现内存溢出,程序宕机**
         3. **一旦这个数字达到了，在新实例被创建之前，已缓存组件中最久没有被访问的实例会被销毁掉**