# 小程序数据请求

1. 语法
   1. API:wx.request(Object object)
   2. 注意点:
      1. url必传,而且必须传入完整路径,例如:http://localhost:3000/banner
      2. data可以传入对象,如果当前请求是GET请求,那么该data会自动拼接为query字符串
      3. 请求方式默认为GET
2. 域名配置
   1. 上线
      1. 流程:微信公众平台中心->开发->开发管理->开发设置->向下滑动页面,找到"服务器域名配置"
   2. 开发
      1. 流程:微信开发者工具->详情->本地设置->勾选"不校验合法域名"
3. **小程序数据请求注意点:**
   1. **小程序只能跟指定的域名进行通信,如果没有提前配置好,将无法请求**
   2. 默认超时时间和最大超时时间都是 **60s**
      1. 超时时间可以在 app.json 或 game.json 中通过 networktimeout 配置
   3. 小程序请求的最大并发限制为**10个**,Chrome和Firefox的最大并发限制为**6个**
      1. 如果已经发送还未响应的请求达到10个了,那么后续请求将会进入等待状态
   4. 小程序进入后台运行后，如果 **5s 内**网络请求没有结束，会回调错误信息 fail interrupted；在回到前台之前，网络请求接口调用都会无法调用
   5. **只要成功接收到服务器返回，无论 statusCode 是多少，都会进入 success 回调**
   6. **小程序必须使用 HTTPS/WSS 发起网络请求**,小程序只能发送https协议的请求

